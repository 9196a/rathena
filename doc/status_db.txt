//===== rAthena Documentation ================================
//= Status Change Database Structure
//===== By: ==================================================
//= rAthena Dev Team
//===== Last Updated: ========================================
//= 20200412
//===== Description: =========================================
//= Explanation of the status_db.yml file and structure.
//============================================================

---------------------------------------

Status: Status change name.

See src/map/script_constants.hpp for SC_ constants.

---------------------------------------

Icon: Status change icon or client effect that will be displayed client-side.

See src/map/script_constants.hpp for EFST_ constants.

---------------------------------------

DurationLookup: Used for default duration lookup in skill_db.yml. The lookup is used for some item bonuses as default duration.

---------------------------------------

States: Specified states given when the SC is active.

	None               - No special state. (Default)
	NoMove             - Cannot move.
	NoMoveCond         - Condition check for SCS_NOMOVE.
	NoPickItem         - Cannot pick item.
	NoPickItemCond     - Condition check for SCS_NOPICKITEM.
	NoDropItem         - Cannot drop item.
	NoDropItemCond     - Condition check for SCS_NODROPITEM.
	NoCast             - Cannot cast a skill.
	NoCastCond         - Condition check for SCS_NOCAST.
	NoChat             - Cannot chat and open chat room.
	NoChatCond         - Condition check for SCS_NOCHATCOND.
	NoEquipItem        - Cannot put on equipment.
	NoEquipItemCond    - Condition check for SCS_NOEQUIPITEM.
	NoUnEquipItem      - Cannot put off equipment.
	NoUnEquipItemCond  - Condition check for SCS_NOUNEQUIPITEM.
	NoConsumeItem      - Cannot consume item.
	NoConsumeItemCond  - Condition check for SCS_NOCONSUMEITEM.
	NoAttack           - Cannot attack.
	NoAttackCond       - Condition check for SCS_NOATTACK.

States that have a suffix of "Cond" means the State has hard coded conditions in status.cpp::status_calc_state

---------------------------------------

CalcFlags: Flag that indicates which status calculation needs to be performed. Even if the value is changed in the status_db.yml the SC must have the respective bonus defined in source.

	None    - Calculates nothing. (Default)
	Base    - Base status
	Maxhp   - Maximum HP
	Maxsp   - Maximum SP
	Str     - STR
	Agi     - AGI
	Vit     - VIT
	Int     - INT
	Dex     - DEX
	Luk     - LUK
	Batk    - Base Attack
	Watk    - Weapon Attack
	Matk    - Magic Attack
	Hit     - Hit/accuracy rate
	Flee    - Flee/dodge rate
	Def     - Equipment Defense
	Def2    - Defense
	Mdef    - Equipment Magic Defense
	Mdef2   - Magic Defense
	Speed   - Walk speed
	Aspd    - Attack speed
	Dspd    - Damage delay speed
	Cri     - Critical rate
	Flee2   - Perfect dodge rate
	Atk_Ele - Attack Element
	Def_Ele - Defense Element
	Mode    - Mode
	Size    - Size
	Race    - Race
	Range   - Range
	Regen   - Regeneration
	Dye     - Dye
	All     - Calculates all CalcFlags

---------------------------------------

Opt1: Special effect when status is active (Aegis: BODYSTATE_*). This option is not stackable. These effects also apply their special behaviors.

	None         - No effect (Default)
	Stone        - Stone curse effect
	Freeze       - Freeze effect
	Stun         - Stun effect
	Sleep        - Sleep effect
	Stonewait    - Effect before Stone is really applied
	Burning      - Burning effect
	Imprison     - Imprison effect
	Crystalize   - Crystalize effect

---------------------------------------

Opt2: Special option/client effect when status is active (Aegis: HEALTHSTATE_*).

	None           - No effect (Default)
	Poison         - Posioned effect
	Curse          - Cursed effect
	Silence        - Silenced effect
	Signumcrucis   - Signum Crucis effect
	Blind          - Blind effect
	Angelus        - Angelus effect
	Bleeding       - Bleeding effect
	Dpoison        - Heavy Poisoned effect
	Fear           - Fear effect

---------------------------------------

Opt3: Special option/client effect when status is active (Aegis: SHOW_EFST_*)

	Normal            - No effect (Default)
	Quicken           - Quicken effect
	Overthrust        - Overthrust effect
	Energycoat        - Energy Coat effect
	Explosionspirits  - Explosion Spirits effect
	Steelbody         - Steel Body effect
	Bladestop         - Blade Stop effect
	Aurablade         - Aura Blade effect
	Berserk           - Berserk effect
	Lightblade        - Light Blade effect
	Moonlit           - Moonlit effect
	Marionette        - Marionette effect
	Assumptio         - Assumptio effect
	Warm              - Warm effect
	Kaite             - Kaite effect
	Bunsin            - Bunshin effect
	Soullink          - Soul Link effect
	Undead            - Undead effect
	Contract          - Contract effect

---------------------------------------

Options: Special option/client effect state when status is active.

	Nothing        - No effect (Default)
	Sight          - Sight effect
	Hide           - Hide effect
	Cloak          - Cloaking effect
	Falcon         - Falcon effect
	Riding         - Riding effect
	Invisible      - Invisible effect
	Orcish         - Orcish effect, the ugly face!
	Wedding        - Wedding costume
	Ruwach         - Ruwach effect
	ChaseWalk      - Chasewalk effect
	Flying         - Flying effect (Star Gladiator's Union)
	Xmas           - Christmas costume
	Transform      - Transformation
	Summer         - Summer costume
	Dragon1        - Dragon
	Wug            - Wug
	WugRider       - Riding a Wug
	Madogear       - Madogear
	Dragon2        - Dragon
	Dragon3        - Dragon
	Dragon4        - Dragon
	Dragon5        - Dragon
	Hanbok         - Hanbok costume
	Oktoberfest    - Oktoberfest costume

---------------------------------------

Flags: Various status flags for specific status change events.

	None                - No special flag. (Default)
	BlEffect            - Status should have BL_SCEFFECT as relevant effect, must have an EFST (displays on BL_PC, BL_HOM, BL_MER, BL_MOB, BL_ELEM). BL_PC is the default value.
	Display_Pc          - Displays status effect when player logs in.
	Dislpay_Npc         - Displays status effect on a NPC.
	Debuff              - Status is considered a debuff. Used in combination with 'battle_config.debuff_on_logout'.
	Set_Stand           - Sets player to standing state.
	Overlap_Fail        - The status will fail to activate if the status is already active.
	Failed_Mado         - Cannot be applied if Madogear is active.

	No_Clearbuff        - Cannot be removed by 'status_change_clear_buffs()', 'sc_end SC_ALL', 'status_change_clear(3)', etc.
	No_Rem_Ondead       - Cannot be removed when a player dies.
	No_Dispell          - Cannot be removed by SA_DISPELL.
	No_Clearance        - Cannot be removed by AB_CLEARANCE.
	No_Banishing_Buster - Cannot be removed by RL_BANISHING_BUSTER.
	No_Save             - Won't be saved when player logs out.

	Rem_On_Damaged      - Removed when receiving damage.
	Rem_On_Refresh      - Removed by RK_REFRESH.
	Rem_On_Luxanima     - Removed by RK_LUXANIMA.
	Rem_On_Mapwarp      - Removed when warping to another map.
	Rem_On_Changemap    - Removed when changing map-server.
	Rem_On_Chem_Protect - Removed by AM_CP_ARMOR/AM_CP_HELM/AM_CP_SHIELD/AM_CP_WEAPON.

	Stop_Attacking      - Makes the unit stop attacking.
	Stop_Casting        - Makes the unit stop casting skills.
	Stop_Walking        - Makes the unit stop walking.

	Boss_Resist         - Cannot be applied to Boss Monster (Mob has mode MD_STATUS_IMMUNE).
	Mvp_Resist          - Cannot be applied to MvP (Mob has mode MD_MVP).

	Opt_Changeoption    - Sends the STATE_CHANGE packet. For statuses that have Opt1, Opt2, or Opt3 values.
	Opt_Changelook      - Sends the STATE_CHANGE packet. For statuses that have body/look changes through 'Option' flags (only for players).
	Trigger_Ontouch_    - Triggers OnTouch_ NPC events. For statuses that have an invisible effect.

	Require_Weapon		- Status requires a weapon to be equipped.
	Require_Shield		- Status requires a shield to be equipped.

---------------------------------------

MinDuration: Minimum duration, in milliseconds, after reduction calculation for status resistance.

---------------------------------------

MinRate: Minimum success rate, at n/10000, after reduction calculation for status resistance.

---------------------------------------

Fail: List of status that causes the status to fail to activate.

---------------------------------------

End: List of status that will end if the status activates.

---------------------------------------

EndReturn: If the status has any 'End' and succeeds to end other status in the list, it won't give its effect.

---------------------------------------

Script: Running limited-usage-script for a status. By using this script please DO NOT use nested script such as autobonus, bonus_script, or sc_start.

---------------------------------------

Notes:

By default, statuses are 'Buff' (those that aren't explicitely given the 'Debuff' flag) which are removable by 'map_quit' in combination with 'battle_config.debuff_on_logout'.

The No_Clearbuff flag prevents some permanent and non-permanent statuses that cannot be removed by 'status_change_clear', 'status_change_clear_buffs', 'map_quit', or other
clearing means.
The function 'status_change_clear_buffs' is called by CG_TAROTCARD, RK_REFRESH, RK_LUXANIMA, CG_HERMODE, PA_GOSPEL, and LG_INSPIRATION.

CG_TAROTCARD and CG_HERMODE only remove buffs while PA_GOSPEL and LG_INSPIRATION remove buffs and debuffs.

RK_REFRESH and RK_LUXANIMA only remove statuses that have the Rem_On_Rerfresh or Rem_On_Luxanima flag. Works just like SA_DISPELL, AB_CLEARANCE, RL_BANISHING_BUSTER that has the
effect to remove buffs or debuffs.

---- Removed comments from source ----
- Mado is immune to increase agi, wind walk, cart boost, etc (others above) [Ind]
- Cart Boost cannot be affected by Slow grace. Assumed if player got Slow Grace first, Cart Boost is failed since Cart Boost doesn't cancel Slow Grace effect
  http://irowiki.org/wiki/Cart_Boost_%28Genetic%29 (view date: 2014-01-26)
  http://irowiki.org/wiki/Cart_Boost (view date: 2014-01-26)
- kRO Update 2014-02-12: Cannot be stacked with Platinum Alter and Madness Canceler (and otherwise?) [Cydh]
- SC_BERSERK, SC_SATURDAYNIGHTFEVER, and SC__BLOODYLUST are all like berserk, do not everlap each other.
- SC_STONE, SC_FREEZE, SC_DEEPSLEEP, SC_SLEEP, SC_STUN, SC_FREEZING, and SC_CRYSTALIZE cannot override other opt1 status changes. [Skotlex]
  TODO: SC that has OPT1: SC_STONE, SC_FREEZE, SC_STUN, SC_SLEEP, SC_BURNING, SC_WHITEIMPRISON, SC_CRYSTALIZE
- Immune to Frozen and Freezing status if under Warmer status. [Jobbie]
- SC_ONEHAND removes the Aspd potion effect, as reported by Vicious. [Skotlex]
- SC_ALL_RIDING. Already mounted, just dismount.
- SC_GN_CARTBOOST andSC_CARTBOOST cancel Decrease Agi, but take no further effect [Skotlex]
